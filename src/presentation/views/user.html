<div ng-switch="!user">
    <p ng-switch-when="true">Select a user to manage.</p>
    <div ng-switch-default="">
        <div class="form">
            <label for="username">Username:</label>
            <input type="text" id="username" ng-model="user.username"/>
            <label for="user_mod_date">Modified Date:</label>
            <input type="text" id="user_mod_date" ng-model="user.modified_date"/>
            <br/>
            <label for="user_banned">Banned:</label>
            <input type="checkbox" id="user_banned" ng-model="user.banned" ng-true-value="1" ng-false-value="0"/>
            <label for="user_permanent">Permanent:</label>
            <input type="checkbox" id="user_permanent" ng-model="user.permanent" ng-true-value="1" ng-false-value="0"/>
            <br/>
            <label for="rank">Rank</label>
            <select id="rank" ng-model="user.rank" ng-options="r.value as r.label for r in ranks"></select>
            <br/>
            <label for="user_relations">Relations:</label>
            <textarea id="user_relations" ng-model="user.relations"></textarea>
            <br/>
            <label for="user_notes">Notes:</label>
            <textarea id="user_notes" ng-model="user.notes"></textarea>
        </div>
        <div>
            <div ng-repeat="incident in incidents" class="form">
                <label>Moderator:</label>
                <input type="text" readonly="readonly" ng-model="incident.moderator"/>
                <br/>
                <label>Created Date:</label>
                <input type="text" readonly="readonly" ng-model="incident.created_date"/>
                <label>Last Modified:</label>
                <input type="text" readonly="readonly" ng-model="incident.modified_date"/>
                <br/>
                <label for="type_{{incident.id}}">Incident type:</label>
                <input type="text" id="type_{{incident.id}}" ng-model="incident.incident_type"/>
                <label for="date_{{incident.id}}">Incident Date:</label>
                <input type="text" id="date_{{incident.id}}" ng-model="incident.incident_date"/>
                <br/>
                <label for="notes_{{incident.id}}">Notes:</label>
                <textarea id="notes_{{incident.id}}" ng-model="incident.notes"></textarea>
                <br/>
                <label for="action_{{incident.id}}">Action Taken:</label>
                <textarea id="action_{{incident.id}}" ng-model="incident.action_taken"></textarea>
                <br/>
                Key Location
                <br/>
                <label for="world_{{incident.id}}">World:</label>
                <select id="world_{{incident.id}}" ng-model="incident.world" ng-options="w.value as w.label for w in worlds"></select>
                <label for="coord_x_{{incident.id}}" class="int">X:</label>
                <input type="text" id="coord_x_{{incident.id}}" class="int" ng-model="incident.coord_x"/>
                <label for="coord_y_{{incident.id}}" class="int">Y:</label>
                <input type="text" id="coord_y_{{incident.id}}" class="int" ng-model="incident.coord_y"/>
                <label for="coord_y_{{incident.id}}" class="int">Z:</label>
                <input type="text" id="coord_y_{{incident.id}}" class="int" ng-model="incident.coord_z"/>
            </div>
        </div>
        <table>
            <thead>
                <tr><th>Moderator</th><th>Date</th><th>Banned</th><th>Permanent</th></tr>
            </thead>
            <tbody>
                <tr ng-repeat="ban in history">
                    <td>{{ban.moderator}}</td>
                    <td>{{ban.date}}</td>
                    <td>{{ban.banned|checkmark}}</td>
                    <td>{{ban.permanent|checkmark}}</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>